{"version":3,"sources":["./node_modules/rxjs/_esm2015/internal/operators/retry.js","./src/app/Shared/Service/avatarsimple.service.ts","./src/app/Shared/Service/photo.service.ts","./src/app/layouts/scan/scan-routing.module.ts","./src/app/layouts/scan/scan.module.ts","./src/app/layouts/scan/scan.page.ts","./src/app/layouts/scan/scan.page.scss","./src/app/layouts/scan/scan.page.html"],"names":[],"mappings":"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","file":"src_app_layouts_scan_scan_module_ts.js","sourcesContent":["import { Subscriber } from '../Subscriber';\nexport function retry(count = -1) {\n    return (source) => source.lift(new RetryOperator(count, source));\n}\nclass RetryOperator {\n    constructor(count, source) {\n        this.count = count;\n        this.source = source;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));\n    }\n}\nclass RetrySubscriber extends Subscriber {\n    constructor(destination, count, source) {\n        super(destination);\n        this.count = count;\n        this.source = source;\n    }\n    error(err) {\n        if (!this.isStopped) {\n            const { source, count } = this;\n            if (count === 0) {\n                return super.error(err);\n            }\n            else if (count > -1) {\n                this.count = count - 1;\n            }\n            source.subscribe(this._unsubscribeAndRecycle());\n        }\n    }\n}\n//# sourceMappingURL=retry.js.map","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\nimport { from, Observable, throwError } from 'rxjs';\nimport { retry, catchError } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AvatarsimpleService {\n  base_path = 'http://127.0.0.1:5001';\n\n  constructor(private http: HttpClient) { }\n\n  httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json'\n    })\n  };\n\n\n\n  // Handle API errors\n  handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      // A client-side or network error occurred. Handle it accordingly.\n      console.error('An error occurred:', error.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong,\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    // return an observable with a user-facing error message\n    return throwError(\n      'Something bad happened; please try again later.');\n  }\n\n\n  // Create a new item\n  createItem(item: any): Observable<any> {\n    //console.log(item)\n    return this.http\n      .post<any>(this.base_path + '/form-example', item, this.httpOptions)\n      .pipe(\n        retry(2),\n        catchError(this.handleError)\n      );\n  }\n\n  createimage(id: any, item: any): Observable<any> {\n    //console.log(item)\n    return this.http\n      .post<any>(this.base_path + '/im-example' + '/' + id, item, this.httpOptions)\n      .pipe(\n        retry(2),\n        catchError(this.handleError)\n      );\n  }\n\n  // Get single student data by ID\n  getItem(id: any): Observable<any> {\n    return this.http\n      .get<any>(this.base_path + '/returndata' + '/' + id)\n      .pipe(\n        retry(2),\n        catchError(this.handleError)\n      );\n  }\n\n\n\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { Plugins, CameraResultType, Capacitor, FilesystemDirectory, CameraPhoto, CameraSource } from '@capacitor/core';\nimport { Platform } from '@ionic/angular';\nimport { Router } from '@angular/router'\nimport { AvatarsimpleService } from '../Service/avatarsimple.service';\n\nconst { Camera, Filesystem, Storage } = Plugins;\n@Injectable({\n  providedIn: 'root'\n})\nexport class PhotoService {\n  user = {\n    id: 1,\n    name: 'fares',\n    surname: 'mallek',\n    height: 185,\n    weight: 75,\n    gender: 0,\n  };\n\n  /*user = {\n  id: 2,\n  name: 'fares',\n  surname: 'mallek',\n  height: 185,\n  weight: 275,\n  gender: 0,\n};*/\n\n\n  public photos: Photo[] = [];\n  private PHOTO_STORAGE: string = \"photos\";\n  private platform: Platform;\n\n  constructor(platform: Platform, private router: Router, public avatarservice1: AvatarsimpleService) {\n    this.platform = platform;\n  }\n\n  public async loadSaved() {\n    // Retrieve cached photo array data\n    const photoList = await Storage.get({ key: this.PHOTO_STORAGE });\n    this.photos = JSON.parse(photoList.value) || [];\n\n    // If running on the web...\n    if (!this.platform.is('hybrid')) {\n      // Display the photo by reading into base64 format\n      for (let photo of this.photos) {\n        // Read each saved photo's data from the Filesystem\n        const readFile = await Filesystem.readFile({\n          path: photo.filepath,\n          directory: FilesystemDirectory.Data\n        });\n\n        // Web platform only: Load the photo as base64 data\n        photo.webviewPath = `data:image/jpeg;base64,${readFile.data}`;\n      }\n    }\n  }\n\n  /* Use the device camera to take a photo:\n  // https://capacitor.ionicframework.com/docs/apis/camera\n\n  // Store the photo data into permanent file storage:\n  // https://capacitor.ionicframework.com/docs/apis/filesystem\n\n  // Store a reference to all photo filepaths using Storage API:\n  // https://capacitor.ionicframework.com/docs/apis/storage\n  */\n  public async addNewToGallery() {\n    // Take a photo\n    const capturedPhoto = await Camera.getPhoto({\n      resultType: CameraResultType.Uri, // file-based data; provides best performance\n      source: CameraSource.Camera, // automatically take a new photo with the camera\n      quality: 100 // highest quality (0 to 100)\n    });\n\n\n\n    //this.avatarservice1.createimage(this.user.id,capturedPhoto.base64String).subscribe((response) => {console.log(response)});\n\n    this.router.navigate(['affichage'])\n\n    const savedImageFile = await this.savePicture(capturedPhoto);\n\n\n\n    // Add new photo to Photos array\n    this.photos.unshift(savedImageFile);\n\n    // Cache all photo data for future retrieval\n    Storage.set({\n      key: this.PHOTO_STORAGE,\n      value: JSON.stringify(this.photos)\n    });\n  }\n\n  // Save picture to file on device\n  private async savePicture(cameraPhoto: CameraPhoto) {\n    // Convert photo to base64 format, required by Filesystem API to save\n    const base64Data = await this.readAsBase64(cameraPhoto);\n\n    this.avatarservice1.createimage(this.user.id, base64Data).subscribe((response) => { });\n\n    // Write the file to the data directory\n    const fileName = new Date().getTime() + '.jpeg';\n    const savedFile = await Filesystem.writeFile({\n      path: fileName,\n      data: base64Data,\n      directory: FilesystemDirectory.Data\n    });\n\n    if (this.platform.is('hybrid')) {\n      // Display the new image by rewriting the 'file://' path to HTTP\n      // Details: https://ionicframework.com/docs/building/webview#file-protocol\n      return {\n        filepath: savedFile.uri,\n        webviewPath: Capacitor.convertFileSrc(savedFile.uri),\n      };\n    }\n    else {\n      // Use webPath to display the new image instead of base64 since it's\n      // already loaded into memory\n      return {\n        filepath: fileName,\n        webviewPath: cameraPhoto.webPath\n      };\n    }\n  }\n\n  // Read camera photo into base64 format based on the platform the app is running on\n  private async readAsBase64(cameraPhoto: CameraPhoto) {\n    // \"hybrid\" will detect Cordova or Capacitor\n    if (this.platform.is('hybrid')) {\n      // Read the file into base64 format\n      const file = await Filesystem.readFile({\n        path: cameraPhoto.path\n      });\n\n      return file.data;\n    }\n    else {\n      // Fetch the photo, read as a blob, then convert to base64 format\n      const response = await fetch(cameraPhoto.webPath!);\n      const blob = await response.blob();\n\n      return await this.convertBlobToBase64(blob) as string;\n    }\n  }\n\n  // Delete picture by removing it from reference data and the filesystem\n  public async deletePicture(photo: Photo, position: number) {\n    // Remove this photo from the Photos reference data array\n    this.photos.splice(position, 1);\n\n    // Update photos array cache by overwriting the existing photo array\n    Storage.set({\n      key: this.PHOTO_STORAGE,\n      value: JSON.stringify(this.photos)\n    });\n\n    // delete photo file from filesystem\n    const filename = photo.filepath.substr(photo.filepath.lastIndexOf('/') + 1);\n    await Filesystem.deleteFile({\n      path: filename,\n      directory: FilesystemDirectory.Data\n    });\n  }\n\n  convertBlobToBase64 = (blob: Blob) => new Promise((resolve, reject) => {\n    const reader = new FileReader;\n    reader.onerror = reject;\n    reader.onload = () => {\n      resolve(reader.result);\n    };\n    reader.readAsDataURL(blob);\n  });\n\n\n}\n\nexport interface Photo {\n  filepath: string;\n  webviewPath: string;\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ScanPage } from './scan.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ScanPage\n  },\n  {\n    path: 'mesures',\n    loadChildren: () => import('./mesures/mesures.module').then( m => m.MesuresPageModule)\n  },\n  {\n    path: 'affichage',\n    loadChildren: () => import('./affichage/affichage.module').then( m => m.AffichagePageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ScanPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ScanPageRoutingModule } from './scan-routing.module';\n\nimport { ScanPage } from './scan.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ScanPageRoutingModule\n  ],\n  declarations: [ScanPage]\n})\nexport class ScanPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActionSheetController } from '@ionic/angular';\n\nimport { Photo, PhotoService } from 'src/app/Shared/Service/photo.service';\n\n@Component({\n  selector: 'app-scan',\n  templateUrl: './scan.page.html',\n  styleUrls: ['./scan.page.scss'],\n})\nexport class ScanPage implements OnInit {\n\n  constructor(\n    public photoService: PhotoService,\n    public actionSheetController: ActionSheetController\n  ) { }\n\n  async ngOnInit() {\n    //await this.photoService.loadSaved();\n  }\n  public async showActionSheet(photo: Photo, position: number) {\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Photos',\n      buttons: [{\n        text: 'Delete',\n        role: 'destructive',\n        icon: 'trash',\n        handler: () => {\n          this.photoService.deletePicture(photo, position);\n        }\n      }, {\n        text: 'Cancel',\n        icon: 'close',\n        role: 'cancel',\n        handler: () => {\n        }\n      }]\n    });\n    await actionSheet.present();\n  }\n\n}\n","export default \".image-overlay {\\n  z-index: 1;\\n  position: absolute;\\n  left: 25%;\\n  top: 10%;\\n  width: 50%;\\n}\\n\\n#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjYW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsVUFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7RUFDQSxVQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUVBLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxRQUFBO0VBQ0EsMkJBQUE7QUFBRjs7QUFHQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQUFGOztBQUdBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBRUEsY0FBQTtFQUVBLFNBQUE7QUFGRjs7QUFLQTtFQUNFLHFCQUFBO0FBRkYiLCJmaWxlIjoic2Nhbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW1hZ2Utb3ZlcmxheSB7XG4gIHotaW5kZXg6IDE7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMjUlO1xuICB0b3A6IDEwJTtcbiAgd2lkdGg6IDUwJTtcbn1cblxuI2NvbnRhaW5lciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xufVxuXG4jY29udGFpbmVyIHN0cm9uZyB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XG59XG5cbiNjb250YWluZXIgcCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbGluZS1oZWlnaHQ6IDIycHg7XG5cbiAgY29sb3I6ICM4YzhjOGM7XG5cbiAgbWFyZ2luOiAwO1xufVxuXG4jY29udGFpbmVyIGEge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG4iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title color=\\\"primary\\\"> </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title color=\\\"primary\\\"></ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col\\n        size=\\\"6\\\"\\n        *ngFor=\\\"let photo of photoService.photos; index as position\\\"\\n      >\\n        <ion-img\\n          [src]=\\\"photo.webviewPath\\\"\\n          (click)=\\\"showActionSheet(photo, position)\\\"\\n        >\\n        </ion-img>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-img src=\\\"./assets/icon/back.png\\\" class=\\\"image-overlay\\\"> </ion-img>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"center\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button (click)=\\\"photoService.addNewToGallery()\\\">\\n      <ion-icon name=\\\"camera\\\"> </ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\\n<!--\\n<ion-img  src=\\\"./assets/icon/back.png\\\"  class=\\\"image-overlay\\\">   </ion-img>\\n  <img src=\\\"./assets/icon/back.png\\\">\\n<ion-button href='/affichage'>affichage</ion-button>\\n<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title style=\\\"\\n      background-image: linear-gradient(\\n        119deg,\\n        rgba(92, 99, 91, 1) 0%,\\n        rgba(36, 114, 56, 1) 35%,\\n        rgb(122, 113, 172) 100%\\n      );\\n    \\\">\\n      Blank\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Blank</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <div id=\\\"container\\\">\\n    <strong>Ready to create an app?</strong>\\n    <p></p>\\n  </div>\\n</ion-content>\\n-->\\n\";"],"sourceRoot":"webpack:///"}