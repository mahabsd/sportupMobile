{"version":3,"sources":["./src/app/Shared/Model/Comment.ts","./src/app/Shared/Service/comment.service.ts","./src/app/layouts/kids/comments-kids/comments-kids-routing.module.ts","./src/app/layouts/kids/comments-kids/comments-kids.module.ts","./src/app/layouts/kids/comments-kids/comments-kids.page.ts","./src/app/layouts/kids/comments-kids/comments-kids.page.scss","./src/app/layouts/kids/comments-kids/comments-kids.page.html"],"names":[],"mappings":"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","file":"src_app_layouts_kids_comments-kids_comments-kids_module_ts.js","sourcesContent":["import { Post } from './Post';\nimport { User } from \"./User\";\n\nexport class Comment {\n  id: number;\n  content: string;\n  commentator: string;\n  user: User  ;\n  post: Post;\n}\n","import { UtilsService } from './utils.service';\nimport { Injectable } from '@angular/core';\nimport { Comment } from '../Model/Comment';\nimport { map } from 'rxjs/operators';\nimport { Post } from '../Model/Post';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CommentService {\n\n  constructor(private apiService: UtilsService) { }\n  addComment(comment: Comment, post: Post):Observable<Comment> {\n    return this.apiService.post(`${UtilsService.apiPost}${post}/comments`, comment).pipe(map((res) => res));\n  }\n  getCommentByService(post): Observable<Comment[]> {\n    return this.apiService.get(`${UtilsService.apiPost}${post}/comments`).pipe(map((res) => res.data.data));\n  }\n\n\n  updateComments(comment: Comment) {\n\n    return this.apiService.patch(`${UtilsService.apiComment}${comment.id}`,comment);\n  }\n\n  deleteComment(id: any) {\n    return this.apiService.delete(`${UtilsService.apiComment}`+id);\n  }\n  recordAudio(post, data){\n    return this.apiService.post(`${UtilsService.apiPost}${post}/comments/audioComment`, data).pipe(map((res) => res));\n  }\n}\n\n\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CommentsKidsPage } from './comments-kids.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CommentsKidsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CommentsKidsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CommentsKidsPageRoutingModule } from './comments-kids-routing.module';\n\nimport { CommentsKidsPage } from './comments-kids.page';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HeaderComponent } from 'src/app/component/header/header.component';\nimport { FooterComponent } from 'src/app/component/footer/footer.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CommentsKidsPageRoutingModule,\n    ReactiveFormsModule,\n    BrowserModule\n  ],\n  declarations: [CommentsKidsPage,HeaderComponent,FooterComponent]\n})\nexport class CommentsKidsPageModule {}\n","/* eslint-disable @typescript-eslint/consistent-type-assertions */\n/* eslint-disable @typescript-eslint/type-annotation-spacing */\n/* eslint-disable @typescript-eslint/quotes */\n/* eslint-disable eol-last */\n/* eslint-disable no-trailing-spaces */\nimport { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { CommentService } from '../../../Shared/Service/comment.service';\nimport { Comment } from '../../../Shared/Model/Comment';\nimport { Post } from 'src/app/Shared/Model/Post';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { environment } from '../../../../environments/environment';\nimport { ModalController } from '@ionic/angular';\nimport { UserService } from 'src/app/Shared/Service/user.service';\n\n@Component({\n  selector: 'app-comments-kids',\n  templateUrl: './comments-kids.page.html',\n  styleUrls: ['./comments-kids.page.scss'],\n})\nexport class CommentsKidsPage implements OnInit {\n  @Input() post: Post;\n  @Input() comments: any = [];\n  @Input() userid: any;\n  apiImgUser = `${environment.apiImg}User/`;\n\ntitle=\"Comments\"\n\n  updateCom = false;\n  selectedCom: Comment;\n  comment: Comment = new Comment();\n  commentForm: FormGroup;\n  upcom;\n  user$;\n  apiImg: any;\n  constructor(\n    private commentService: CommentService,\n    private modalController: ModalController,private userService:UserService) {\n    this.apiImg = `${environment.apiImg}users/`;\n\n  }\n\n  ngOnInit() {\n\n    this.commentForm = new FormGroup({\n      contentControl: new FormControl('', Validators.required)\n\n    });\n    this.getCommentByPost();\n\n  }\n\n  updateComment(comment) {\n    this.updateCom = true;\n    this.selectedCom = comment;\n\n\n\n  }\n  sendComment(post) {\n    this.comments = [];\n    // eslint-disable-next-line no-underscore-dangle\n    return this.commentService.addComment(this.comment, post._id).subscribe(res => {\n      this.comment = new Comment();\n      this.getCommentByPost();\n    });\n  }\n\n  sendCommentUpdate() {\n    this.updateCom = false;\n    this.upcom = (<HTMLInputElement>document.getElementById(\"contentCom\")).value;\n    this.selectedCom.content = this.upcom;\n\n    this.commentService.updateComments(this.selectedCom).subscribe(res => {\n\n    });\n\n  }\n  async dismissModal() {\n    await this.modalController.dismiss();\n  }\n  getCommentByPost() {\n    // eslint-disable-next-line no-underscore-dangle\n    this.commentService.getCommentByService(this.post._id).subscribe(arg => {\n      this.comments = arg;\n\n    });\n\n  }\n\n  deleteComment(idcom) {\n    this.commentService.deleteComment(idcom).subscribe(arg => {\n    });\n    this.getCommentByPost();\n  }\n}\n","export default \"ion-item.commentaire {\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  position: fixed;\\n  display: block;\\n  width: 97%;\\n  margin: 5px;\\n  --background: rgba(128, 128, 128, 0.507);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRzLWtpZHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUUsU0FBQTtFQUNFLE9BQUE7RUFDQSxRQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLHdDQUFBO0FBQUoiLCJmaWxlIjoiY29tbWVudHMta2lkcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbS5jb21tZW50YWlyZVxyXG57XHJcbiAgYm90dG9tOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB3aWR0aDogOTclO1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcbiAgICAtLWJhY2tncm91bmQ6IHJnYmEoMTI4LCAxMjgsIDEyOCwgMC41MDcpO1xyXG59XHJcblxyXG4iXX0= */\";","export default \"<ion-header translucent>\\n  <ion-toolbar>\\n    <ion-title style=\\\"color: white;\\\"\\n     >Comments</ion-title\\n    >\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"dismissModal()\\\"><ion-icon name=\\\"close-outline\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content fullscreen>\\n  <ion-list *ngFor=\\\"let item of comments\\\">\\n    <ion-item-sliding>\\n      <ng-container *ngIf=\\\"item?.user?._id===userid; else dislikedTemp\\\">\\n        <ion-item-options side=\\\"end\\\">\\n          <ion-item-option color=\\\"danger\\\">\\n            <ion-icon\\n              slot=\\\"icon-only\\\"\\n              (click)=\\\"deleteComment(item._id)\\\"\\n              name=\\\"trash\\\"\\n            ></ion-icon>\\n          </ion-item-option>\\n          <ion-item-option>\\n            <ion-icon\\n              slot=\\\"icon-only\\\"\\n              name=\\\"create-outline\\\"\\n              (click)=\\\"updateComment(item)\\\"\\n            ></ion-icon>\\n          </ion-item-option>\\n        </ion-item-options>\\n\\n        <ion-item>\\n          <ion-avatar slot=\\\"end\\\">\\n            <ion-img [src]=\\\"apiImgUser+item?.user?.photo\\\"></ion-img>\\n          </ion-avatar>\\n          <ion-label style=\\\"text-align: end\\\">\\n            <h2>{{item?.user?.name}} </h2>\\n            <p>{{item?.content}}</p>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item-options side=\\\"start\\\">\\n          <ion-item-option color=\\\"danger\\\">\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"person-outline\\\"></ion-icon>\\n          </ion-item-option>\\n        </ion-item-options>\\n      </ng-container>\\n\\n      <ng-template #dislikedTemp>\\n        <ion-item>\\n          <ion-avatar slot=\\\"start\\\">\\n            <ion-img [src]=\\\"apiImgUser+item?.user$.photo\\\"></ion-img>\\n          </ion-avatar>\\n          <ion-label>\\n            <h2>{{item?.user?.name}} </h2>\\n            <p>{{item?.content}}</p>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item-options side=\\\"start\\\">\\n          <ion-item-option color=\\\"danger\\\">\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"person-outline\\\"></ion-icon>\\n          </ion-item-option>\\n        </ion-item-options>\\n      </ng-template>\\n    </ion-item-sliding>\\n  </ion-list>\\n\\n  <ion-item class=\\\"commentaire\\\" [formGroup]=\\\"commentForm\\\">\\n    <ion-col size=\\\"8\\\" style=\\\"text-align: start\\\">\\n      <ng-container *ngIf=\\\"updateCom; else noupdate\\\">\\n        <ion-input\\n          class=\\\"commentaire\\\"\\n          type=\\\"text\\\"\\n          value=\\\"{{selectedCom.content}}\\\"\\n          id=\\\"contentCom\\\"\\n          name=\\\"contentCom\\\"\\n          placeholder=\\\"Ecrire un commentaire\\\"\\n        ></ion-input>\\n      </ng-container>\\n\\n      <ng-template #noupdate>\\n        <ion-input\\n          class=\\\"commentaire\\\"\\n          type=\\\"text\\\"\\n          [(ngModel)]=\\\"comment.content\\\"\\n          formControlName=\\\"contentControl\\\"\\n          placeholder=\\\"Ecrire un commentaire\\\"\\n        ></ion-input>\\n      </ng-template>\\n    </ion-col>\\n    <ion-col size=\\\"4\\\" style=\\\"text-align: end\\\">\\n      <ng-container *ngIf=\\\"updateCom; else noupdatebutton\\\">\\n        <ion-button\\n          class=\\\"commentaire\\\"\\n          (click)=\\\"sendCommentUpdate()\\\"\\n          shape=\\\"round\\\"\\n          fill=\\\"clear\\\"\\n          size=\\\"small \\\"\\n        >\\n          <ion-icon name=\\\"send\\\"></ion-icon>\\n        </ion-button>\\n      </ng-container>\\n      <ng-template #noupdatebutton>\\n        <ion-button\\n          class=\\\"commentaire\\\"\\n          [hidden]=\\\"commentForm.invalid\\\"\\n          (click)=\\\"sendComment(post)\\\"\\n          shape=\\\"round\\\"\\n          fill=\\\"clear\\\"\\n          size=\\\"small \\\"\\n        >\\n          <ion-icon name=\\\"send\\\"></ion-icon>\\n        </ion-button>\\n      </ng-template>\\n    </ion-col>\\n  </ion-item>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}