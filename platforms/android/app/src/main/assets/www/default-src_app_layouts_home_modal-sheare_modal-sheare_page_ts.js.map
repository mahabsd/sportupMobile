{"version":3,"sources":["./src/app/layouts/home/modal-sheare/modal-sheare.page.ts","./src/app/layouts/home/modal-sheare/modal-sheare.page.scss","./src/app/layouts/home/modal-sheare/modal-sheare.page.html"],"names":[],"mappings":"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","file":"default-src_app_layouts_home_modal-sheare_modal-sheare_page_ts.js","sourcesContent":["import { Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\nimport { ModalController, Platform, ToastController } from '@ionic/angular';\nimport { ActionSheetController } from '@ionic/angular';\nimport { User } from '../../../Shared/Model/User';\nimport { AuthService } from '../../../Shared/Auth/auth.service';\nimport { PostService } from '../../../Shared/Service/post.service';\nimport { Post } from '../../../Shared/Model/Post';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { ImageModel } from 'src/app/Shared/Model/ImageModel';\nimport { CameraResultType, CameraSource, Plugins } from '@capacitor/core';\nimport { SlicePipe } from '@angular/common';\nimport { Renderer2 } from '@angular/core';\nconst { Camera } = Plugins;\n@Component({\n  selector: 'app-modal-sheare',\n  templateUrl: './modal-sheare.page.html',\n  styleUrls: ['./modal-sheare.page.scss'],\n})\nexport class ModalShearePage implements OnInit {\n  @Input() user: User;\n  @Input() page;\n  // user: User = new User();\n  post: Post = new Post();\n  postForm: FormGroup;\n  filesToUpload = null;\n\n  images: ImageModel[] = [];\n  posts: Post[] = [];\n  @ViewChild('fileInput', { static: false }) multiFileInput: ElementRef;\n  //@ViewChild('fileInput', { static: false }) choosePhotosInput: ElementRef;\n  selectedFiles: any[];\n  progressInfos: any[];\n  message: string;\n  selectedPreviews: any = [];\n  imageSrc: string | ArrayBuffer;\n  constructor(\n    private plt: Platform,\n    private action: ActionSheetController,\n    private modalController: ModalController,\n    private actionSheet: ActionSheetController,\n    private authService: AuthService,\n    private postService: PostService,\n    private toastCtrl: ToastController,\n    private Renderer: Renderer2,\n  ) { }\n  ngOnInit() {\n\n    this.loadImage();\n\n    this.postForm = new FormGroup({\n      contentControl: new FormControl('', Validators.required),\n    });\n    this.getUser();\n  }\n  async closeModal() {\n    await this.modalController.dismiss();\n  }\n  openActionSheet() {\n    this.actionSheet\n      .create({\n        header: 'Qui peut voir votre publication?',\n        animated: true,\n        mode: 'md',\n        cssClass: 'my-custom-class',\n        buttons: [\n          {\n            text: 'Public',\n            role: 'destructive',\n            icon: 'world',\n            cssClass: 'title-img',\n            handler: () => {\n              console.log('Facebook share');\n            },\n          },\n          {\n            text: 'Amis',\n            icon: 'people',\n            cssClass: 'twitterIcon',\n            handler: () => {\n              console.log('Share clicked');\n            },\n          },\n          {\n            text: 'Amis sauf',\n            icon: 'person',\n            cssClass: 'whatsappIcon',\n            handler: () => {\n              console.log('Favorite clicked');\n            },\n          },\n          {\n            text: 'Moi uniquement',\n            icon: 'bag',\n            cssClass: 'whatsappIcon',\n            handler: () => {\n              console.log('Favorite clicked');\n            },\n          },\n        ],\n      })\n      .then((res) => {\n        res.present();\n      });\n  }\n  segmentChanged(data) {\n    console.log('gggg', data);\n  }\n  getUser() {\n    this.authService.getUser().subscribe((res) => {\n      this.user = res;\n      return this.user;\n    });\n  }\n\n\n  async presentToast(message) {\n    const toast = await this.toastCtrl.create({\n      message,\n      duration: 2000,\n      color: 'success',\n      position: 'top'\n    });\n    toast.present();\n  }\n\n  createPost() {\n    const fd = new FormData();\n    if (this.filesToUpload) {\n\n      if (fd.has('photo'))\n        fd.delete('photo');\n\n      fd.append('photo', this.filesToUpload, this.filesToUpload?.name);\n    }\n    if (this.post?.content) {\n\n      fd.append('content', this.post?.content);\n      fd.append('type', 'user');\n     if (this.page) {\n      fd.append('pageId', this.page);\n     }\n\n    }\n\n    if (this.selectedFiles) {\n      if (fd.has('photo')) {\n        const photo = fd.get('photo');\n        fd.delete('photo');\n        fd.append('files', photo);\n\n      }\n\n      this.uploadFiles(fd);\n    } else {\n\n      this.postService.createPost(fd).subscribe((res) => {\n        this.presentToast('Fichiers Ajoutées');\n        this.closeModal();\n\n        return res;\n      });\n    }\n\n\n    /*  this.postService.createPost(fd).subscribe((res) => {\n        this.closeModal();\n        return res;\n      });*/\n  }\n\n  loadImage() {\n    this.postService.getAllPosts().subscribe((res) => {\n      this.posts = res;\n    });\n  }\n  deleteImage(post, index) {\n    this.postService.deletePost(post).subscribe((res) => {\n      this.images.splice(index, 1);\n    });\n  }\n  async selectImageSource() {\n    const buttons = [\n      {\n        text: 'Take Photo',\n        icon: 'camera',\n\n        handler: () => {\n          this.addImage(CameraSource.Camera);\n\n        },\n      },\n      {\n        text: 'Choose from photos',\n        icon: 'image',\n        handler: () => {\n\n\n          this.Renderer.setAttribute(this.multiFileInput.nativeElement, \"accept\", \"image/jpg, image/jpeg, image/png\");\n          this.multiFileInput.nativeElement.click();\n\n        },\n      },\n      {\n        text: 'Record Video',\n        icon: 'video',\n        handler: () => {\n          // this.recordVideo();\n        },\n      },\n      {\n        text: 'Record Audio',\n        icon: 'audio',\n        handler: () => {\n          // this.recordAudio();\n        },\n      },\n    ];\n    if (!this.plt.is('hybrid')) {\n      buttons.push({\n        text: 'Choose a file',\n        icon: 'attach',\n        handler: () => {\n          this.Renderer.setAttribute(this.multiFileInput.nativeElement, \"accept\", \"image/jpg, image/png, application/pdf, video/mp4\");\n          this.multiFileInput.nativeElement.click();\n\n\n        },\n      });\n    }\n\n    const actionSheet = await this.action.create({\n      header: 'Select Image Source',\n      buttons,\n    });\n\n    await actionSheet.present();\n  }\n\n  async addImage(source: CameraSource) {\n    const image = await Camera.getPhoto({\n      quality: 60,\n      allowEditing: true,\n      resultType: CameraResultType.Base64,\n      source,\n    });\n    console.log('image', image);\n    const blobData = this.b64toBlob(\n      image.base64String,\n      `image/${image.format}`\n    );\n    const imageName = 'Give me a name';\n    // this.post.photo = blobData;\n    this.filesToUpload = blobData;\n    console.log(this.filesToUpload);\n  }\n  b64toBlob(b64Data, contentType = '', sliceSize = 512) {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\n      const byteNumbers = new Array(slice.length);\n      for (let i = 0; i < slice.length; i++) {\n        byteNumbers[i] = slice.charCodeAt(i);\n      }\n      const byteArray = new Uint8Array(byteNumbers);\n      byteArrays.push(byteArray);\n    }\n    const blob = new Blob(byteArrays, { type: contentType });\n    return blob;\n  }\n  uploadFiles(formData: FormData) {\n    this.message = '';\n\n    for (const file of this.selectedFiles) {\n      formData.append('files', file);\n    }\n    this.postService.uploadImageFile(formData).subscribe((res) => {\n      this.presentToast('Fichiers Ajoutées');\n      this.closeModal();\n      window.location.reload();\n    });\n  }\n  selectFiles(event) {\n    this.progressInfos = [];\n    this.selectedFiles = event.target.files;\n    this.selectedPreviews = [];\n    for (const file of this.selectedFiles) {\n      if (file.type === 'image/jpeg') {\n        const reader = new FileReader();\n        reader.onload = e => this.selectedPreviews.push(reader.result);\n        reader.readAsDataURL(file);\n      }\n      else if (file.type === \"video/mp4\") {\n        this.selectedPreviews.push('../../../assets/imgs/150.png');\n      }\n    }\n\n    this.actionSheet.dismiss();\n  }\n\n  getType(file) {\n    return file.type;\n  }\n\n  /* uploadFile(event: EventTarget) {\n     console.log('uploadfile');\n\n     const eventObj: MSInputMethodContext = event as MSInputMethodContext;\n     const target: HTMLInputElement = eventObj.target as HTMLInputElement;\n     const file: File = target.files[0];\n     this.filesToUpload = file;\n     console.log(file);\n     this.postService.uploadImageFile(file).subscribe((newImage: ImageModel) => {\n       this.images.push(newImage);\n\n     });\n   }*/\n}\n","export default \"p {\\n  font-size: x-small !important;\\n}\\n\\nion-toolbar ion-buttons ion-button.confirmer {\\n  --border-radius: 50%;\\n  --border-radius: 50%;\\n  border-radius: 5px;\\n  background: #13131363;\\n  width: 80px;\\n  height: 36px;\\n}\\n\\n.myFooter {\\n  border-radius: 32px;\\n  margin-bottom: 10px;\\n  box-shadow: 0.25px 0.25px 0.25px 0.25px;\\n  display: inline-flex;\\n  justify-content: center;\\n  font-size: 51.2px;\\n}\\n\\n.text-input {\\n  height: auto;\\n}\\n\\n.text-input div.input-wrapper {\\n  background-color: #6d0c0c;\\n  border-radius: 20px;\\n}\\n\\n.text-input div.input-wrapper textarea.text-input {\\n  margin-left: 8px;\\n}\\n\\nion-button.confirmPost {\\n  bottom: 0;\\n  right: 0;\\n  position: absolute;\\n}\\n\\nion-footer {\\n  position: fixed;\\n  bottom: 0;\\n  left: 0;\\n  margin-left: 10px;\\n  margin-right: 10px;\\n  margin-top: 7px;\\n  margin-bottom: 7px;\\n}\\n\\nion-row {\\n  display: fixed;\\n  bottom: 0;\\n  left: 0;\\n  background: #EEEFEF;\\n}\\n\\n.myFooter ion-grid ion-row {\\n  margin-left: auto;\\n  margin-right: auto;\\n  /* margin-bottom: 10px; */\\n  /* border-radius: 50px; */\\n  box-shadow: -1px 1px 2px 1px #6d6969;\\n  position: fixed;\\n  bottom: 0px;\\n  width: 100%;\\n  /* height: 6%; */\\n  /* left: 0; */\\n  /* right: 0; */\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: #8c8c8c;\\n  background-color: #EEE;\\n}\\n\\n.myFooter > ion-img {\\n  width: 40px;\\n  height: 40px;\\n}\\n\\nion-footer {\\n  --background: transparent;\\n}\\n\\nion-col {\\n  --background-hover: red;\\n}\\n\\nion-col:hover {\\n  --ripple-color: #247238 !important;\\n}\\n\\n.userItem {\\n  --background: transparent ;\\n}\\n\\nion-img {\\n  height: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGFsLXNoZWFyZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBTUE7RUFDRSw2QkFBQTtBQUxGOztBQVVBO0VBQ0Usb0JBQUE7RUFDQSxvQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQVBGOztBQVVBO0VBQ0UsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLHVDQUFBO0VBQ0Esb0JBQUE7RUFDQSx1QkFBQTtFQUNBLGlCQUFBO0FBUEY7O0FBVUE7RUFDRSxZQUFBO0FBUEY7O0FBU0U7RUFDRSx5QkFBQTtFQUNBLG1CQUFBO0FBUEo7O0FBU0k7RUFDRSxnQkFBQTtBQVBOOztBQWNBO0VBRUUsU0FBQTtFQUNBLFFBQUE7RUFDQSxrQkFBQTtBQVpGOztBQWVBO0VBQ0UsZUFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtBQVpGOztBQWVBO0VBQ0UsY0FBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsbUJBQUE7QUFaRjs7QUFnQkE7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSx5QkFBQTtFQUNBLG9DQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBO0VBQ0EsY0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsY0FBQTtFQUNBLHNCQUFBO0FBYkY7O0FBZ0JBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUFiRjs7QUFnQkE7RUFDRSx5QkFBQTtBQWJGOztBQWdCQTtFQUNFLHVCQUFBO0FBYkY7O0FBaUJBO0VBRUUsa0NBQUE7QUFmRjs7QUFrQkE7RUFDRSwwQkFBQTtBQWZGOztBQWtCQTtFQUNFLFlBQUE7QUFmRiIsImZpbGUiOiJtb2RhbC1zaGVhcmUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiJHJ1bGVyOiAxNnB4O1xuJGNvbG9yLXJlZDogIzcyNmI2YjtcbiRjb2xvci1iZzogI0VCRUNGMDtcbiRjb2xvci1zaGFkb3c6ICNCQUJFQ0M7XG4kY29sb3Itd2hpdGU6ICNGRkY7XG5cbnAge1xuICBmb250LXNpemU6IHgtc21hbGwgIWltcG9ydGFudDtcbn1cblxuXG5cbmlvbi10b29sYmFyIGlvbi1idXR0b25zIGlvbi1idXR0b24uY29uZmlybWVyIHtcbiAgLS1ib3JkZXItcmFkaXVzOiA1MCU7XG4gIC0tYm9yZGVyLXJhZGl1czogNTAlO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJhY2tncm91bmQ6ICMxMzEzMTM2MztcbiAgd2lkdGg6IDgwcHg7XG4gIGhlaWdodDogMzZweDtcbn1cblxuLm15Rm9vdGVyIHtcbiAgYm9yZGVyLXJhZGl1czogJHJ1bGVyKjI7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGJveC1zaGFkb3c6IDAuMjVweCAwLjI1cHggMC4yNXB4IDAuMjVweDtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBmb250LXNpemU6ICRydWxlciozLjI7XG59XG5cbi50ZXh0LWlucHV0IHtcbiAgaGVpZ2h0OiBhdXRvO1xuXG4gIGRpdi5pbnB1dC13cmFwcGVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTA5LCAxMiwgMTIpO1xuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG5cbiAgICB0ZXh0YXJlYS50ZXh0LWlucHV0IHtcbiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICAvL292ZXJmbG93LXk6IGF1dG87XG4gICAgICAvL21heC1oZWlnaHQ6IDEwMHB4O1xuICAgIH1cbiAgfVxufVxuXG5pb24tYnV0dG9uLmNvbmZpcm1Qb3N0IHtcblxuICBib3R0b206IDA7XG4gIHJpZ2h0OiAwO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG59XG5cbmlvbi1mb290ZXIge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogMDtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgbWFyZ2luLXRvcDogN3B4O1xuICBtYXJnaW4tYm90dG9tOiA3cHg7XG59XG5cbmlvbi1yb3cge1xuICBkaXNwbGF5OiBmaXhlZDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICBiYWNrZ3JvdW5kOiAjRUVFRkVGO1xufVxuXG5cbi5teUZvb3RlciBpb24tZ3JpZCBpb24tcm93IHtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgLyogbWFyZ2luLWJvdHRvbTogMTBweDsgKi9cbiAgLyogYm9yZGVyLXJhZGl1czogNTBweDsgKi9cbiAgYm94LXNoYWRvdzogLTFweCAxcHggMnB4IDFweCAjNmQ2OTY5O1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGJvdHRvbTogMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgLyogaGVpZ2h0OiA2JTsgKi9cbiAgLyogbGVmdDogMDsgKi9cbiAgLyogcmlnaHQ6IDA7ICovXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBjb2xvcjogIzhjOGM4YztcbiAgYmFja2dyb3VuZC1jb2xvcjogI0VFRTtcbn1cblxuLm15Rm9vdGVyPmlvbi1pbWcge1xuICB3aWR0aDogNDBweDtcbiAgaGVpZ2h0OiA0MHB4XG59XG5cbmlvbi1mb290ZXIge1xuICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuXG5pb24tY29sIHtcbiAgLS1iYWNrZ3JvdW5kLWhvdmVyOiByZWQ7XG5cbn1cblxuaW9uLWNvbDpob3ZlciB7XG5cbiAgLS1yaXBwbGUtY29sb3I6ICMyNDcyMzggIWltcG9ydGFudDtcbn1cblxuLnVzZXJJdGVtIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudFxufVxuXG5pb24taW1nIHtcbiAgaGVpZ2h0OiAzMHB4O1xuXG59XG4iXX0= */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title color=\\\"light\\\">Créer une publication</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"closeModal()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" color=\\\"light\\\" name=\\\"close\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"createPost()\\\" class=\\\"confirmer\\\" type=\\\"submit\\\" [disabled]=\\\"post.content===''\\\" color=\\\"light\\\"\\n        shape=\\\"round\\\">\\n        Publier\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content padding>\\n  <ion-row class=\\\"row ion-align-items-center ion-justify-content-start\\\">\\n\\n\\n\\n\\n    <!-- <ion-col no-padding class=\\\"col\\\" size=\\\"10\\\">\\n      <div class=\\\"ZoneShare ion-text-nowrap\\\"> -->\\n    <!-- <ion-row> -->\\n    <ion-item lines=\\\"none\\\" class=\\\"userItem\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"http://placehold.it/75\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h3 class=\\\"ion-text-capitalize\\\">{{user?.name}}</h3>\\n\\n        <ion-icon name=\\\"earth-outline\\\" (click)=\\\"openActionSheet()\\\"> </ion-icon>\\n      </ion-label>\\n    </ion-item>\\n\\n\\n\\n\\n  </ion-row>\\n  <!-- </div>\\n    </ion-col>\\n  </ion-row>-->\\n  <ion-row>\\n    <ion-col>\\n      <ion-textarea placeholder=\\\"Veuillez partager quelques sentiments!\\\" [(ngModel)]=\\\"post.content\\\"></ion-textarea>\\n    </ion-col>\\n\\n  </ion-row>\\n  <ion-row>\\n    <ion-col size=\\\"6\\\" *ngFor=\\\"let img of images;let i=index;\\\" class=\\\"ion-text-center\\\">\\n      <ion-label>{{img.name}}\\n        <p>{{img.createdAt | date:'short'}}</p>\\n      </ion-label>\\n      <img [src]=\\\"img.url\\\" alt=\\\"\\\">\\n      <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\">\\n        <ion-fab-button color=\\\"danger\\\" size=\\\"small\\\" (click)=\\\"deleteImage(img,i)\\\">\\n          <ion-icon name=\\\"trash-outline\\\"></ion-icon>\\n        </ion-fab-button>\\n      </ion-fab>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-scroll scrollY=\\\"true\\\">\\n      <ng-container  *ngFor=\\\"let file of selectedPreviews\\\">\\n        <img width=\\\"50px\\\"  [src]=\\\"file\\\"/>\\n      </ng-container>\\n      \\n    \\n    </ion-scroll>\\n  \\n  </ion-row>\\n</ion-content>\\n \\n\\n\\n<ion-footer class=\\\"myFooter\\\">\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col (click)=\\\"selectImageSource()\\\">\\n        \\n        <input type=\\\"file\\\" multiple #fileInput (change)=\\\"selectFiles($event)\\\" hidden=\\\"true\\\" accept=\\\"image/jpg, image/png, application/pdf, video/mp4\\\">\\n        <ion-img src=\\\"../../../../assets/icon/iconc_add_picture.png\\\"></ion-img>\\n      </ion-col>\\n    </ion-row>\\n\\n \\n  </ion-grid>\\n</ion-footer>\\n\";"],"sourceRoot":"webpack:///"}