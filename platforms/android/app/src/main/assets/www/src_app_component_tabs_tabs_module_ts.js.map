{"version":3,"sources":["./src/app/Shared/Resolvers/ProfileResolverService.ts","./src/app/component/tabs/tabs-routing.module.ts","./src/app/component/tabs/tabs.module.ts","./src/app/component/tabs/tabs.page.ts","./src/app/shared/Service/notifications.service.ts","./src/app/component/tabs/tabs.page.scss","./src/app/component/tabs/tabs.page.html"],"names":[],"mappings":"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","file":"src_app_component_tabs_tabs_module_ts.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { observeOn } from 'rxjs/operators';\nimport { User } from '../Model/User';\nimport { UserService } from '../Service/user.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProfileResolverService implements Resolve<User>{\n\n  constructor(private userService: UserService) { }\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): User | Observable<User> | Promise<User> {\n    let Users: User[] = [];\n    // this.UserService.getAllUsers().subscribe(async res => {\n    //   Users = await res;\n    //   console.log(res);\n\n    // });\n    const observable: Observable<User[]> = Observable.create(observer => {\n\n      observer.next(Users);\n      observer.complete();\n    });\n    return this.userService.getMe();\n\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PostsResolverService } from 'src/app/Shared/Service/posts-resolver.service';\nimport { TabsPage } from './tabs.page';\nimport { ProfileResolverService } from '../../Shared/Resolvers/ProfileResolverService';\nimport { AdultsNotAllowedGuard } from 'src/app/shared/Guard/adults-not-allowed.guard';\nimport { RolesGuardGuard } from 'src/app/shared/Guard/roles-guard.guard';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TabsPage,\n    children: [\n      {\n        path: 'home',\n        children: [\n          {\n            path: '',\n            loadChildren: () => import('./../../layouts/home/home.module').then(m => m.HomePageModule),\n            canActivate:[RolesGuardGuard],\n            resolve: {\n              data: ProfileResolverService\n            }\n          },\n        ]\n      },\n      {\n        path: 'accueil',\n        loadChildren: () => import('./../../layouts/kids/accueil/accueil.module').then(m => m.AccueilPageModule),\n        canActivate:[AdultsNotAllowedGuard]\n\n      },\n      {\n        path: 'commentskids',\n        loadChildren: () => import('./../../layouts/kids/comments-kids/comments-kids.module').then(m => m.CommentsKidsPageModule),\n        canActivate:[AdultsNotAllowedGuard]\n\n      },\n      {\n        path: 'layouts',\n        loadChildren: () => import('./../../layouts/layouts.module').then(m => m.LayoutsModule)\n      },\n      {\n        path: 'profil/:id',\n        loadChildren: () => import('./../../layouts/profil/profil.module').then(m => m.ProfilPageModule),\n\n      },\n      {\n        path: 'profile',\n        loadChildren: () => import('./../../layouts/profil/profil.module').then(m => m.ProfilPageModule)\n      },\n      {\n        path: 'home-erp',\n        loadChildren: () => import('../../layouts/erp/home-erp/home-erp.module').then(m => m.HomeErpPageModule)\n      },\n      {\n        path: 'profilkids/:id',\n        loadChildren: () => import('../../layouts/kids/profil/profil.module').then(m => m.ProfilPageModule),\n        canActivate:[AdultsNotAllowedGuard]\n      },\n      {\n        path: 'hobbies',\n        loadChildren: () => import('../../layouts/hobbies/hobbies.module').then(m => m.HobbiesPageModule)\n      },\n      {\n        path: 'community',\n        loadChildren: () => import('../../layouts/community/community.module').then( m => m.CommunityPageModule),\n        canActivate:[RolesGuardGuard]\n      },\n    ]\n  },\n  {\n    path: '',\n    redirectTo: 'tabs/home',\n    pathMatch: 'full'\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TabsPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TabsPageRoutingModule } from './tabs-routing.module';\nimport { TabsPage } from './tabs.page';\nimport { ComponentModule } from '../component.module';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TabsPageRoutingModule,\n    ComponentModule,\n\n  ],\n  declarations: [TabsPage]\n})\nexport class TabsPageModule {}\n","import { Component, Injectable, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ModalShearePage } from 'src/app/layouts/home/modal-sheare/modal-sheare.page';\nimport { UserService } from 'src/app/Shared/Service/user.service';\nimport { CameraSource } from '@capacitor/core';\nimport { ActionSheetController } from '@ionic/angular';\nimport { ImageService } from 'src/app/Shared/Service/image.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Observable, Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { EventService } from 'src/app/shared/Service/event.service';\nimport { AddStatusKidsPage } from 'src/app/layouts/kids/accueil/status-kids/add-status-kids/add-status-kids.page';\nimport { ChatService } from 'src/app/shared/Service/chat.service';\nimport { Socket } from 'ngx-socket-io';\nimport { NotificationsService } from 'src/app/shared/Service/notifications.service';\nimport { stringify } from 'querystring';\n\n@Component({\n  selector: 'app-tabs',\n  templateUrl: './tabs.page.html',\n  styleUrls: ['./tabs.page.scss'],\n})\nexport class TabsPage implements OnInit {\n  user$: any = [];\n  menuOpened = false;\n  userid;\n  subscription: Subscription;\n  pagetype: string;\n  urlpage = this.router.url.split('/', 6);\n  notseenMessagesNumber: any = 0;\n  notifications: any;\n  notifLength: any = 0;\n  constructor(\n    private imageService: ImageService,\n    private modalController: ModalController,\n    private router: Router,\n    private userservice: UserService,\n    private eventService: EventService,\n    private chatService: ChatService,\n    private socket: Socket,\n    private notificationsService: NotificationsService,\n  ) { }\n\n  ngOnInit() {\n    this.getMe();\n    this.subscription = this.eventService.getMessage().subscribe((message) => {\n      this.menuOpened = message.event;\n    });\n    this.socket.connect();\n    this.socket.emit('notifications', { msg: 'hey' });\n    this.socket.fromEvent('notifications').subscribe((res) => {\n    this.getMe();\n    });\n  }\n\n  getMe() {\n    this.userservice.getMe().subscribe((res) => {\n      this.user$ = res.data.data;\n      this.userid = res.data.data._id;\n      this.getNumberNonreadChats();\n      this.getNotifications();\n    });\n  }\n\n  openMenu() {\n    this.menuOpened = true;\n  }\n\n\n\n  async openShareModal() {\n    const modal = await this.modalController.create({\n      component: ModalShearePage,\n      componentProps: {\n        user: this.user$,\n\n      },\n    });\n    await modal.present();\n    await modal.onWillDismiss().then((result) => {\n    });\n  }\n\n\n  sendMessage(message) {\n    // send message to subscribers via observable subject\n    this.imageService.sendMessage(message);\n  }\n\n  add(event: any) {\n    console.log(event);\n  }\n\n  getNumberNonreadChats() {\n    this.notseenMessagesNumber = 0;\n    this.chatService.getAllChatsByuser(this.userid).subscribe(res => {\n      res.map(msg => {\n        if (msg.messages[msg.messages.length - 1].userSender !== this.userid) {\n          if (msg.seenuser1.user1 === this.userid) {\n            if (msg.seenuser1.lastVisit < msg.messages[msg.messages.length - 1].createdDate) {\n              this.notseenMessagesNumber = this.notseenMessagesNumber + 1;\n            }\n          } else if (msg.seenuser2.user2 === this.userid) {\n            if (msg.seenuser2.lastVisit < msg.messages[msg.messages.length - 1].createdDate) {\n              this.notseenMessagesNumber = this.notseenMessagesNumber + 1;\n            }\n          }\n        }\n      });\n    });\n  }\n  getNotifications() {\n    this.notificationsService.getAllNotifications(this.userid).subscribe(res => {\n      this.notifications = res.filter(notif => notif.seen === false);\n      this.notifLength = this.notifications.length;\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { UtilsService } from './utils.service';\nimport { map, catchError } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NotificationsService {\n\n  constructor(private apiService: UtilsService) { }\n\n  getAllNotifications(id): Observable<any> {\n    return this.apiService.get(`${UtilsService.apiNotif}${id}`).pipe(map((res) => res.data.data));\n  }\n  postNotification(notif): Observable<any> {\n    return this.apiService.patch(`${UtilsService.apiNotif}`, notif).pipe(map((res) => res.data.data));\n  }\n  updateNotification( notifs): Observable<any> {\n    return this.apiService.post(`${UtilsService.apiNotif}`, notifs ).pipe(map((res) => res.data.data));\n  }\n  checkNotification(reciever, userOwner): Observable<any> {\n    return this.apiService.get(`${UtilsService.apiNotif}${reciever}/${userOwner}`).pipe(map((res) => res.data));\n  }\n  deleteNotif(id): Observable<any> {\n    return this.apiService.delete(`${UtilsService.apiNotif}${id}`).pipe(map((res) => res.data.data));\n  }\n}\n","export default \"ion-tab-bar {\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-bottom: 10px;\\n  border-radius: 15px;\\n  position: absolute;\\n  bottom: 0px;\\n  width: 75%;\\n  height: 6%;\\n  left: 0;\\n  right: 0;\\n  display: flex;\\n  align-items: flex-end;\\n  justify-content: center;\\n  color: #c2bfbf;\\n  background-color: #EEE;\\n  box-shadow: -1px 1px 2px 1px #b0acac;\\n  border: none;\\n}\\n\\nion-tabs {\\n  --background: transparent !important;\\n}\\n\\nion-tab-button {\\n  background-color: transparent;\\n}\\n\\nion-tab-bar {\\n  transition: all 1s;\\n}\\n\\n.showTabs {\\n  position: absolute;\\n  transition: all 1s;\\n  transform: translateY(0px);\\n}\\n\\n.hideTabs {\\n  position: absolute;\\n  transition: all 1s;\\n  transform: translateY(100px);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYnMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxVQUFBO0VBQ0EsVUFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsdUJBQUE7RUFDQSxjQUFBO0VBQ0Esc0JBQUE7RUFDQSxvQ0FBQTtFQUNBLFlBQUE7QUFDRjs7QUFFQTtFQUNFLG9DQUFBO0FBQ0Y7O0FBRUE7RUFDRSw2QkFBQTtBQUNGOztBQU1BO0VBQ0Usa0JBQUE7QUFIRjs7QUFNQTtFQUNFLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSwwQkFBQTtBQUhGOztBQU9BO0VBQ0Usa0JBQUE7RUFDQSxrQkFBQTtFQUNBLDRCQUFBO0FBSkYiLCJmaWxlIjoidGFicy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tdGFiLWJhciB7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAwcHg7XG4gIHdpZHRoOiA3NSU7XG4gIGhlaWdodDogNiU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBjb2xvcjogI2MyYmZiZjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0VFRTtcbiAgYm94LXNoYWRvdzogLTFweCAxcHggMnB4IDFweCAjYjBhY2FjO1xuICBib3JkZXI6IG5vbmU7XG59XG5cbmlvbi10YWJzIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xufVxuXG5pb24tdGFiLWJ1dHRvbiB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuXG59XG5cblxuXG5cbmlvbi10YWItYmFyIHtcbiAgdHJhbnNpdGlvbjogYWxsIDFzO1xufVxuXG4uc2hvd1RhYnMge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRyYW5zaXRpb246IGFsbCAxcztcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDBweCk7XG5cbn1cblxuLmhpZGVUYWJzIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0cmFuc2l0aW9uOiBhbGwgMXM7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDBweCk7XG5cbn1cbiJdfQ== */\";","export default \"<ion-tabs  >\\n  <!-- Tab bar -->\\n  <ion-tab-bar slot=\\\"bottom\\\" translucent=\\\"true\\\" [ngClass]=\\\"menuOpened? 'hideTabs' : 'showTabs'\\\">\\n    <ion-tab-button title=\\\"accueil\\\">\\n      <img [routerLink]=\\\"['/tabs/home']\\\"  style=\\\"width: 20px;height:20px\\\" src=\\\"../../assets/svg/home.svg\\\" />\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"map\\\">\\n      <ion-badge id=\\\"notifications-badge\\\" color=\\\"danger\\\" *ngIf=\\\"notseenMessagesNumber > 0\\\">{{notseenMessagesNumber}}</ion-badge>\\n      <img [routerLink]=\\\"['/tabs/layouts/boitereception']\\\"  style=\\\"width: 20px;height:20px\\\" src=\\\"../../assets/svg/messages.svg\\\" />\\n    </ion-tab-button>\\n    <ion-tab-button>\\n      <img style=\\\"width: 20px;height:20px\\\" src=\\\"../../assets/svg/add-home.svg\\\" (click)=\\\"openShareModal()\\\" />\\n    </ion-tab-button>\\n    <ion-tab-button>\\n      <ion-badge id=\\\"notifications-badge\\\" *ngIf=\\\"notifLength>0\\\" color=\\\"danger\\\">{{notifLength}}</ion-badge>\\n      <img style=\\\"width: 20px;height:20px\\\" [routerLink]=\\\"['/tabs/layouts/notifications']\\\" src=\\\"../../assets/svg/notif-icon.svg\\\" />\\n    </ion-tab-button>\\n    <ion-tab-button routerLink=\\\"/tabs/layouts/coachprofile/{{userid}}/me\\\">\\n      <img style=\\\"width: 20px;height:20px\\\" src=\\\"../../assets/svg/person-icon.svg\\\" />\\n    </ion-tab-button>\\n  </ion-tab-bar>\\n  <app-footer></app-footer>\\n</ion-tabs>\\n\\n\";"],"sourceRoot":"webpack:///"}