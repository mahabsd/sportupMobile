<ion-grid>
  <ion-row lines="none">
    <ion-avatar slot="" class="ion-padding">
      <img src="http://placehold.it/75">
    </ion-avatar>
    <ion-label [routerLink]="['/profil/',post?.user?._id]">
      <h3 class="ion-text-capitalize" routerLinkActive="router-link-active">

        {{post?.user?.name}}</h3>
      <p>{{post?.createdAt | date}}</p>
    </ion-label>
    <ion-button color="light" slot="end" shape="round" fill="clear" size="small" (click)="presentPopover($event)">
      <ion-icon color="light" style="color:#fff;" slot="icon-only" name="ellipsis-vertical">
      </ion-icon>
    </ion-button>
  </ion-row>
  <ion-row lines="none" class="ion-justify-content-center ion-margin" *ngIf="images.length>0">
    <img [lazyLoad]="apiImg+images[0]?.name" />
  </ion-row>
  <ion-row>
    <ion-card-content>
      {{post?.content}}
    </ion-card-content>
  </ion-row>
  <ion-row lines="none">
    <ion-col size="col-2">
      <ion-chip>
        <ng-container *ngIf="!post?.likedBy.includes(user?._id); else dislikedTemp">
          <ion-button (dblclick)="showReactions($event)" (click)="like(post,$event.target)" shape="round" fill="clear"
            size="large">
            <img src="../../../../assets/iconPost/{{post?.iconLike}}.svg" id="icon_liked" />
            <sub>{{post?.likes}} </sub>
          </ion-button>
        </ng-container>
        <ng-template #dislikedTemp>
          <ion-button (dblclick)="showReactions($event)" (click)="disLike(post,$event.target)" shape="round"
            fill="clear" size="large">
            <img src="../../../../assets/iconPost/{{post?.iconLike}}.svg" id="icon_like" />
            <sub>{{post?.likes}} </sub>
          </ion-button>
        </ng-template>
      </ion-chip>
    </ion-col>
    <ion-col style="text-align:end;">
      <ion-chip>
        <ion-button (click)="presentModal(post)" shape="round" fill="clear" size="large">
          <img src="../../../../assets/iconPost/icon_comment.svg" />
          <sub>{{comments?.length}}</sub>
        </ion-button>
        <ion-button (click)="share()" shape="round" fill="clear" size="large ">
          <img src="../../../../assets/iconPost/icon_share.svg" />
        </ion-button>
        <ng-container *ngIf="!bookmarked; else unbook">
          <ion-button (click)="bookmark()" shape="round" fill="clear" size="large ">
            <img src="../../../../assets/iconPost/icon_bookmark.svg" class="last" />
          </ion-button>
        </ng-container>
        <ng-template #unbook>
          <ion-button (click)="unBookmark()" shape="round" fill="clear" size="large ">
            <img src="../../../../assets/iconPost/icon_bookmarked.svg" class="last" />
          </ion-button>
        </ng-template>
      </ion-chip>
    </ion-col>
  </ion-row>
</ion-grid>
