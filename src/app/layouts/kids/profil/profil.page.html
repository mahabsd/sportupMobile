<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-icon
        routerLink="/tabsKids/accueil"
        color="light"
        name="chevron-back-outline"
      ></ion-icon>
    </ion-buttons>
    <ion-buttons slot="end" *ngIf="checkSelf===true">
      <ion-button color="secondary" (click)="presentPopover($event)">
        <ion-icon
          style="color: white"
          slot="icon-only"
          ios="ellipsis-horizontal"
          md="ellipsis-vertical"
        >
        </ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-buttons slot="end" *ngIf="checkSelf!==true">
      <ion-button
        shape="rounded"
        (click)="presentPopoverNewMsg($event,idprofilePassed)"
      >
        <ion-icon color="light" name="chevron-down-outline"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-title color="light" style="text-align: center; margin-left: 20xp">
      {{title}}</ion-title
    >
  </ion-toolbar>
</ion-header>
<ion-content class="parent" [scrollEvents]="true" (ionScroll)="logScrolling($event)">
  <div class="image1">
    <ion-img
      class="imgUser"
      src="https://www.heysigmund.com/wp-content/uploads/Breaking-Up-With-Kids-The-New-Normal.jpg"
    ></ion-img>

    <ion-avatar class="image2">
      <img
        class="myImageUser"
        src="https://www.next.co.uk/nxtcms/resource/image/2639914/portrait_ratio1x1/305/305/7ddcbe6fc57d27c5f26a12fde323f828/lR/-0001-g69-mb-sh368442-lm-017-baby.jpg"
      />
      <ion-label color="light" style="white-space: pre">
        {{user?.name}}</ion-label
      >
    </ion-avatar>
  </div>
  <ion-row>
    <ion-col size="1"></ion-col>
    <ion-col size="3">
      <ion-label class="mylabelabonnement"> 2k Abonnes </ion-label>
    </ion-col>
    <ion-col size="2"></ion-col>
    <ion-col size="4">
      <ion-label class="mylabelabonnement"> 500 abonnements </ion-label>
    </ion-col>
    <ion-col size="1"></ion-col>
  </ion-row>

  <div style="background-color: #f8f8f8">
    <!-- Segment with default selection -->
    <ion-segment (ionChange)="segmentChanged($event)" value="photo">
      <ion-segment-button value="photo">
        <ion-label style="font-family: 'Leckerli One', cursive"
          >Photo</ion-label
        >
      </ion-segment-button>
      <ion-segment-button value="Publications">
        <ion-label style="font-family: 'Leckerli One', cursive"
          >Publications</ion-label
        >
      </ion-segment-button>
      <ion-segment-button value="Planning">
        <ion-label style="font-family: 'Leckerli One', cursive"
          >Planning</ion-label
        >
      </ion-segment-button>
      <ion-segment-button value="propos" style="width: 30px">
        <ion-label style="font-family: 'Leckerli One', cursive"
          >Ã  propos</ion-label
        >
      </ion-segment-button>
    </ion-segment>

    <div class="body" *ngIf="selected==='photo'">
      <div id="first-bloc">
        <div id="first-photo" style="position: relative">
          <div class="left-tape-first"></div>
          <div class="right-tape-first"></div>
        </div>
        <div id="photo-set-one">
          <div class="fourPics" style="position: relative">
            <div class="left-tape-second"></div>
            <div class="right-tape-second"></div>
          </div>
          <div class="fourPics" style="position: relative">
            <div class="left-tape-fourth"></div>
            <div class="right-tape-fourth"></div>
          </div>
          <div class="fourPics" style="position: relative">
            <div class="left-tape-third"></div>
            <div class="right-tape-third"></div>
          </div>
          <div class="fourPics" style="position: relative">
            <div class="left-tape-second"></div>
            <div class="right-tape-second"></div>
          </div>
        </div>
      </div>
      <div id="photo-set-two">
        <div class="eightPic" style="position: relative">
          <div class="left-tape-second"></div>
          <div class="right-tape-second"></div>
        </div>
        <div class="eightPic" style="position: relative">
          <div class="left-tape-third"></div>
          <div class="right-tape-third"></div>
        </div>
        <div class="eightPic" style="position: relative">
          <div class="left-tape-second"></div>
          <div class="right-tape-second"></div>
        </div>
        <div class="eightPic" style="position: relative">
          <div class="left-tape-fourth"></div>
          <div class="right-tape-fourth"></div>
        </div>
        <div class="eightPic" style="position: relative">
          <div class="left-tape-fourth"></div>
          <div class="right-tape-fourth"></div>
        </div>
        <div class="eightPic" style="position: relative">
          <div class="left-tape-third"></div>
          <div class="right-tape-third"></div>
        </div>
        <div class="eightPic" style="position: relative">
          <div class="left-tape-second"></div>
          <div class="right-tape-second"></div>
        </div>
        <div class="eightPic" style="position: relative">
          <div class="left-tape-third"></div>
          <div class="right-tape-third"></div>
        </div>
      </div>
    </div>

    <div class="content-profil" *ngIf="selected==='propos'">
      <ion-row>
        <ion-col
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <h4>A propos</h4>
          <ion-icon
            (click)="updateComment()"
            style="color: green"
            name="create"
          ></ion-icon>
        </ion-col>
      </ion-row>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Beatae deserunt
        consequuntur mollitia cum soluta dolorem omnis quam totam. Ipsa,
      </p>
      <ng-container *ngIf="update;else noupdate">
        <ion-row>
          <ion-col size="4">
            <ion-icon name="location-sharp"></ion-icon>
            <ion-label style="font-weight: bold">Adresse</ion-label>
          </ion-col>
          <ion-col style="margin-top: -8px">
            <ion-input
              class="commentaire"
              id="contentadresse"
              type="text"
              [(ngModel)]="user.adresse"
            ></ion-input>
          </ion-col>
          <ion-col size="4">
            <ion-label style="font-weight: bold">Code postal</ion-label>
          </ion-col>
          <ion-col style="margin-top: -8px">
            <ion-input
              class="commentaire"
              id="contentPostal"
              type="text"
            ></ion-input>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="4">
            <ion-label style="font-weight: bold">Ville</ion-label>
          </ion-col>
          <ion-col style="margin-top: -8px">
            <ion-input
              class="commentaire"
              type="text"
              id="contentVille"
              [(ngModel)]="user.ville"
            ></ion-input>
          </ion-col>
          <ion-col size="4">
            <ion-label style="font-weight: bold">Pays</ion-label>
          </ion-col>
          <ion-col style="margin-top: -8px">
            <ion-input
              class="commentaire"
              type="text"
              id="contentPays"
              [(ngModel)]="user.location"
            ></ion-input>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="3.5">
            <ion-label style="font-weight: bold">Date naissance</ion-label>
          </ion-col>
          <ion-col style="margin-top: -8px">
            <ion-datetime
              class="commentaire"
              type="date"
              id="datenaissance"
              [(ngModel)]="user.datedenaissance"
            >
            </ion-datetime>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="3.5" style="margin-top: 15px">
            <ion-label style="font-weight: bold">Genre</ion-label>
          </ion-col>

          <ion-col>
            <ion-item>
              <ng-container *ngIf="user.sexe==='homme';else femme">
                <ion-select
                  interface="popover"
                  placeholder="Select One"
                  value="homme"
                  [(ngModel)]="user.sexe"
                >
                  <ion-select-option value="femme">Femme</ion-select-option>
                  <ion-select-option value="homme">Homme</ion-select-option>
                  <ion-select-option value="autres">Autre</ion-select-option>
                </ion-select>
              </ng-container>

              <ng-template #femme>
                <ion-select
                  interface="popover"
                  placeholder="Select One"
                  value="femme"
                  [(ngModel)]="user.sexe"
                >
                  <ion-select-option value="femme">femme</ion-select-option>
                  <ion-select-option value="homme">Homme</ion-select-option>
                  <ion-select-option value="autres">Autre</ion-select-option>
                </ion-select>
              </ng-template>
            </ion-item>
          </ion-col>
        </ion-row>
      </ng-container>

      <ng-template #noupdate>
        <ion-row>
          <ion-col size="4">
            <ion-icon name="location-sharp"></ion-icon>
            <ion-label style="font-weight: bold">Adresse</ion-label>
          </ion-col>
          <ion-col> {{user.adresse}} </ion-col>
          <ion-col size="4">
            <ion-label style="font-weight: bold">Code postal</ion-label>
          </ion-col>
          <ion-col> 2083 </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="4">
            <ion-label style="font-weight: bold">Ville</ion-label>
          </ion-col>
          <ion-col> {{user.ville}} </ion-col>
          <ion-col size="3.5">
            <ion-label style="font-weight: bold">Pays</ion-label>
          </ion-col>
          <ion-col> {{user.pays}} </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="4">
            <ion-label style="font-weight: bold">Date naissance</ion-label>
          </ion-col>
          <ion-col>
            <ion-datetime
              class="commentaire"
              type="date"
              id="datenaissance"
              [(ngModel)]="user.datedenaissance"
            >
            </ion-datetime>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="3.5" style="margin-top: 15px">
            <ion-label style="font-weight: bold">Genre</ion-label>
          </ion-col>

          <ion-col>
            <ion-item>
              <ng-container *ngIf="user.sexe==='homme';else femme">
                <ion-select
                  interface="popover"
                  placeholder="Select One"
                  value="h"
                >
                  <ion-select-option value="f">Femme</ion-select-option>
                  <ion-select-option value="h">Homme</ion-select-option>
                  <ion-select-option value="a">Autres</ion-select-option>
                </ion-select>
              </ng-container>

              <ng-template #femme>
                <ion-select
                  interface="popover"
                  placeholder="Select One"
                  value="f"
                >
                  <ion-select-option value="f" selected
                    >Femme</ion-select-option
                  >
                  <ion-select-option value="h">Homme</ion-select-option>
                  <ion-select-option value="a">Autre</ion-select-option>
                </ion-select>
              </ng-template>
            </ion-item>
          </ion-col>
        </ion-row>
      </ng-template>

      <ng-container *ngIf="update">
        <ion-icon
          style="font-size: 25px; color: red; float: right; margin-top: 20px"
          (click)="updateComment()"
          name="close-circle-outline"
        ></ion-icon>
        <ion-icon
          style="font-size: 25px; color: green; float: right; margin-top: 20px"
          (click)="userUpdate()"
          name="checkmark-circle-outline"
        ></ion-icon>
      </ng-container>
    </div>

    <div *ngIf="selected==='Publications'">
      <div
        style="
          padding: 15px 5px;
          background-color: rgba(187, 187, 187, 0.589);
          border-radius: 20px;
          margin: 5px;
        "
        *ngFor="let post of userPosts"
      >
        <div>
          <div style="display: flex; align-items: center">
            <ion-avatar style="margin: 5px 20px">
              <img src="../../../assets/kidsuser.png" />
            </ion-avatar>

            <div style="display: flex; flex-direction: column">
              <ion-label>{{post.user.name}}</ion-label>
              <ion-label>{{post.createdAt}}</ion-label>
            </div>
          </div>
          <div
            style="display: flex; flex-direction: column; margin-left: 105px"
          >
            <ion-label style="font-weight: bold">{{post.title}} :</ion-label>
            <ion-label>{{post.content}} </ion-label>
          </div>
        </div>
        <div id="main-content"></div>
      </div>
    </div>
  </div>
</ion-content>
